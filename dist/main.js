(()=>{class e{constructor(e,t,n,o){this.title=e,this.description=t,this.dueDate=n,this.p_id=o}}class t{constructor(e){this.title=e,this.id=t.index}static get index(){return t.id=(t.id||0)+1,t.id}}const n=new t("Example"),o=new e("Review Genki","Review Genki to handle speaking test","2022-03-10",1);let i=[n],c=[o];function d(){const e=document.querySelector(".projects_ol");e.textContent="";for(let t=0;t<i.length;t++){const n=document.createElement("li");n.className="p_li",n.id=t+1,n.textContent=i.at(t).title,e.appendChild(n)}}function l(){const e=document.querySelector("#p_id");e.textContent="",i.forEach((t=>{var n=document.createElement("option");n.textContent=`${t.id}.${t.title}`,n.value=t.id,e.appendChild(n)}))}function r(e){const t=document.querySelector(".lists_ol");t.textContent="";for(let n=0;n<e.length;n++){const o=document.createElement("li");o.className="t_li",o.id=n+1,o.textContent=e.at(n).title,t.appendChild(o)}}function u(){document.querySelectorAll(".p_li").forEach((e=>{e.addEventListener("click",(()=>{document.querySelector(".div_delete").textContent="";let t=c.filter((t=>t.p_id===Number(e.id)));r(t),s(t)}))}))}function s(e){const t=document.querySelector(".description"),n=document.querySelector(".dueDate");t.textContent="",n.textContent="",document.querySelectorAll(".t_li").forEach((o=>{o.addEventListener("click",(()=>{const i=document.querySelector(".div_delete");i.textContent="";const d=e.at(Number(o.id)-1),l=document.createElement("button");l.className="b_delete",l.id=o.id,l.textContent="Delete This Todo",t.textContent=d.description,n.textContent=d.dueDate,i.appendChild(l),function(e){const t=document.querySelector(".b_delete");t.addEventListener("click",(()=>{const n=document.querySelector(".description"),o=document.querySelector(".dueDate"),i=document.querySelector(".div_delete");let d=Number(t.id-1);n.textContent="",o.textContent="",i.textContent="";let l=c.filter((t=>t.p_id===e)),a=l.splice(d,1).at(0);c.splice(c.indexOf(a),1),r(l),s(l),u()}))}(e.at(0).p_id)}))}))}d(),document.querySelector(".new_project").addEventListener("click",(()=>{let e;do{e=prompt("Projekt Name?")}while(""===e||null===e);!function(e){const n=new t(e);i.push(n)}(e),d(),l(),u()})),l(),document.querySelector(".new_todo").addEventListener("click",(t=>{t.preventDefault();let n={};var o=new FormData(form);for(const[e,t]of o)n[e]=t;n.p_id=Number(n.p_id),""!==n.title&&""!==n.dueDate&&""!==n.p_id&&(function(t,n,o,i){const d=new e(t,n,o,i);c.push(d)}(n.title,n.description,n.dueDate,n.p_id),u())})),u()})();